<ion-header>
    <ion-toolbar color="primary">
        <ion-title>
            Llueve
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-grid>
        <ion-row>
            <ion-col size-sm="6" offset-sm="3">

                <div *ngIf="prevision">
                    <ion-card>
                        <ion-card-header>
                            <ion-card-title>{{ unixTime2Date(prevision.current.dt) }}</ion-card-title>
                            <ion-card-subtitle>{{ ahora | date:'shortTime' }}</ion-card-subtitle>
                        </ion-card-header>

                        <ion-card-content>
                            <ion-grid class="ion-no-padding ion-no-margin">
                                <ion-row class="vertical-align-content">
                                    <ion-col>
                                        <ion-img [src]="rutaImagen(prevision.current.weather[0].icon, 4)"></ion-img>
                                    </ion-col>

                                    <ion-col style="font-size:xx-large;">
                                        {{ +prevision.current.temp | temperatura }}
                                    </ion-col>

                                    <ion-col size="6">
                                        <ion-row>
                                            <ion-text><b>{{ capitaliza(prevision.current.weather[0].description) }}</b>
                                            </ion-text>
                                        </ion-row>
                                        <ion-row class="letra_small">Sensación: {{ +prevision.current.feels_like |
                                            temperatura }}
                                        </ion-row>
                                    </ion-col>

                                </ion-row>

                                <ion-row>
                                    <ion-col size="3">
                                        <ion-card class="ion-no-margin">
                                            <ion-card-content>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center;">
                                                    <ion-img style="width:30px" src="/assets/icon/windsock-40.png">
                                                    </ion-img>
                                                </div>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center; margin-top: 5px;">
                                                    <ion-text class="letra_x_small">{{ prevision.current.wind_speed }}
                                                        km/h</ion-text>
                                                </div>
                                            </ion-card-content>
                                        </ion-card>
                                    </ion-col>

                                    <ion-col size="3">
                                        <ion-card class="ion-no-margin">
                                            <ion-card-content>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center;">
                                                    <ion-img style="width:30px" src="/assets/icon/hygrometer-40.png">
                                                    </ion-img>
                                                </div>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center; margin-top: 5px;">
                                                    <ion-text class="letra_x_small">{{ prevision.current.humidity }}%
                                                    </ion-text>
                                                </div>
                                            </ion-card-content>
                                        </ion-card>
                                    </ion-col>

                                    <ion-col size="3">
                                        <ion-card class="ion-no-margin">
                                            <ion-card-content>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center;">
                                                    <ion-img style="width:30px"
                                                        src="/assets/icon/pressure-gauge-40.png"></ion-img>
                                                </div>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center; margin-top: 5px;">
                                                    <ion-text class="letra_x_small">{{ prevision.current.pressure }}
                                                        mbar
                                                    </ion-text>
                                                </div>
                                            </ion-card-content>
                                        </ion-card>
                                    </ion-col>

                                    <ion-col size="3">
                                        <ion-card class="ion-no-margin">
                                            <ion-card-content>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center;">
                                                    <ion-img style="width:30px" src="/assets/icon/summer-40.png">
                                                    </ion-img>
                                                </div>
                                                <div
                                                    style="display: flex; align-items: center; justify-content: center; margin-top: 5px;">
                                                    <ion-text class="letra_x_small">{{ prevision.current.uvi }}
                                                    </ion-text>
                                                </div>
                                            </ion-card-content>
                                        </ion-card>
                                    </ion-col>

                                </ion-row>

                            </ion-grid>
                        </ion-card-content>
                    </ion-card>


                    <ion-card *ngFor="let dia of prevision.daily">
                        <ion-card-header>
                            <ion-item>
                                <ion-img slot="start" [src]="rutaImagen(dia.weather[0].icon, 2)" style="width: 50px">
                                </ion-img>
                            </ion-item>
                        </ion-card-header>

                        <ion-card-content>
                            <ion-grid>
                                <ion-row>
                                    <ion-col>
                                        <ion-icon color="primary" name="thermometer-outline"></ion-icon>
                                    </ion-col>
                                    <ion-col>
                                        <ion-text color="primary"><b>{{ +dia.temp.day | temperatura }}</b></ion-text>
                                    </ion-col>
                                    <ion-col class="letra_small">Max:</ion-col>
                                    <ion-col class="letra_small">{{ +dia.temp.max | temperatura }}</ion-col>
                                    <ion-col class="letra_small">Min:</ion-col>
                                    <ion-col class="letra_small">{{ +dia.temp.min | temperatura }}</ion-col>
                                </ion-row>


                                <ion-row>
                                    <ion-col>
                                        <ion-icon color="primary" name="cloudy-outline"></ion-icon>
                                    </ion-col>
                                    <ion-col class="letra_small">Humedad:</ion-col>
                                    <ion-col class="letra_small">{{ dia.humidity }}</ion-col>
                                    <ion-col class="letra_small">Presion:</ion-col>
                                    <ion-col class="letra_small">{{ dia.pressure }}</ion-col>
                                </ion-row>

                                <ion-row>
                                    <ion-col>
                                        <ion-icon color="primary" name="trending-up-outline"></ion-icon>
                                    </ion-col>
                                    <ion-col class="letra_small">Velocidad:</ion-col>
                                    <ion-col class="letra_small">{{ dia.wind_speed }}</ion-col>
                                    <ion-col class="letra_small">Dirección:</ion-col>
                                    <ion-col class="letra_small">{{ dia.wind_deg }}</ion-col>
                                </ion-row>

                            </ion-grid>

                        </ion-card-content>
                    </ion-card>
                </div>

            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>